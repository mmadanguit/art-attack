<!DOCTYPE html>
<html 
  prefix="og: https://ogp.me/ns#" 
  lang="en" 
  data-theme="light">
  <head>
    <meta charset="utf-8">
    <title>Electrical Subsystem - Hugo Ava Theme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
<title itemprop="name">Electrical Subsystem | Art Attack</title>
<meta property="og:title" content="Electrical Subsystem | Art Attack" />
<meta name="twitter:title" content="Electrical Subsystem | Art Attack" />
<meta itemprop="name" content="Electrical Subsystem | Art Attack" />
<meta name="application-name" content="Electrical Subsystem | Art Attack" />
<meta property="og:site_name" content="Art Attack" />

<meta name="description" content="Learn more about how we powered all 16 of our servos." />
<meta itemprop="description" content="Learn more about how we powered all 16 of our servos." />
<meta property="og:description" content="Learn more about how we powered all 16 of our servos." />
<meta name="twitter:description" content="Learn more about how we powered all 16 of our servos." />

<base href="./system/electrical/">
<link rel="canonical" href="./system/electrical/" itemprop="url" /> 
<meta name="url" content="./system/electrical/" />
<meta name="twitter:url" content="./system/electrical/" /> 
<meta property="og:url" content="./system/electrical/" />

<meta property="og:locale" content="en">
<meta name="language" content="English">


 
  <meta itemprop="image" content="../../images/textile.jpeg" />
  <meta property="og:image" content="../../images/textile.jpeg" /> 
  <meta name="twitter:image" content="../../images/textile.jpeg" />
  <meta name="twitter:image:src" content="../../images/textile.jpeg" /> 


<meta property="og:updated_time" content=0001-01-01T00:00:00Z />
<link rel="sitemap" type="application/xml" title="Sitemap" href=".sitemap.xml" /> 



<meta name="robots" content="index,follow" /> 
<meta name="googlebot" content="index,follow" />

<meta name="twitter:site" content="@gohugoio">
<meta name="twitter:creator" content="@gohugoio" />
    <link rel="shortcut icon" href="./favicon.ico" />
<link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="./favicon.ico" />
<meta name="color-scheme" content="light, dark">
    <link rel="author" href='./humans.txt'>

    <script>
      const storage = localStorage.getItem('dark-mode');
      if ("dark" === storage
        || (!storage && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>

    
      
      <script src="./js/darkm.min.101c6df089d67344a27a3530036dfd436676c000b2a80cb9d9166e4663cb7de2.js"></script>
      <link rel="stylesheet" href="./css/style.min.efb826604d5e9c95771acab9d4ceb23877191c3dd8c14cde53f1a79f720dd424.css">

    
    
    
  </head>

  <body class='page'>

    <header class="site-header">
    <div class="inner">
        <p class="site-title slide-horizontal-invert">
            <a href="./">Hugo Ava Theme</a>
        </p>
    
        <input type="checkbox" id="check-menu" class="check-menu" hidden="">
        <label for="check-menu" class="nav-btn hide-desktop" aria-label="Open/close menu"><span class="lines"></span></label>
        <nav class="site-nav hide-mobile slide-horizontal">

            <svg style="display:none">
    <symbol viewBox="0 0 24 24" id="moon">
        <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="sun">
        <circle cx="12" cy="12" r="5"></circle>
        <line x1="12" y1="1" x2="12" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="23"></line>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
        <line x1="1" y1="12" x2="3" y2="12"></line>
        <line x1="21" y1="12" x2="23" y2="12"></line>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </symbol>
</svg>
<button class="theme__btn light--hidden" aria-label="Enable light mode"><svg aria-hidden="true"><use href="#sun"></use></svg></button>
<button class="theme__btn dark--hidden" aria-label="Enable dark mode"><svg aria-hidden="true"><use href="#moon"></use></svg></button>

            <ul class="site-menu">
                
                
                    
                    
                    <li>
                        <a href="./">
                            <span>Home</span>
                        </a>
                    </li>
                
                    
                    
                    <li>
                        <a href="./process/">
                            <span>Process</span>
                        </a>
                    </li>
                
                    
                    
                    <li>
                        <a href="./system/">
                            <span>System</span>
                        </a>
                    </li>
                
                    
                    
                    <li>
                        <a href="./about/">
                            <span>About</span>
                        </a>
                    </li>
                
            </ul>
        </nav>
    </div>
</header>
    
    <main class="site-main">
      
      
        <article>
            <header class="subheader" style="background-image: url(../../images/textile.jpeg);">
    <div class="title-container slide-invert">
            <h1 class="post-title">Electrical Subsystem</h1>
        
    </div>
</header>
          
          <div class="content slide-invert">
  <p>The responsibilities of the electrical subsystem can be boiled down into one mission statement: provide a way for the software to control the motors in our deliverable.</p>
<p>To accomplish this task, the electrical subsystem is broken up into the following parts:</p>
<h2 id="interfacing-with-the-computer">Interfacing with the Computer</h2>
<p>To interface with the computer we decided to use an arduino because it allowed for easy serial communication with the computer over USB. The firmware/software team wrote the code that defined how the information sent over the bus would be structured, when devices could talk, and how to catch errors that occur when sending data over the bus.</p>
<h2 id="interface-with-the-motors">Interface with the motors</h2>
<p>We specifically chose to work servo motors because they are incredibly easy to control in comparison to other motors like steppers. To control a servo motor you need to connect it to a power source and provide it with a PWM signal. The servo then determines the orientation it needs to be in based on the width of the PWM signal and uses some awesome built in control logic to move it the specific orientation.</p>
<p>To generate the 50 PWM signals we need to control the 50 motors in the sculpture we decided to buy a motor controller. Specifically, a motor controller that uses the PCA9685 LED controller. Despite being called an LED controller, the PCA9685 is a perfect servo controller. It has 16-pin which can each drive their own PWM signal, which means with one chip we can control 16 motors. For the chip to begin generating PWM signals, it needs to be told the frequency of the signal and width of the signal. This can be done by connecting it to another microcontroller over an I2C bus which is perfect for our application. One major advantage of the I2C bus is that it’s possible to connect multiple devices to the same bus. This means we can connect four controller boards to one I2C bus and control all the boards from one micro controller. To reiterate, we can use one microcontroller to control 64 motors! For more information on our I2C bus check out the section below.</p>
<p><img src="./images/wirediagram.png" alt=""></p>
<h2 id="choosing-resistors-for-i2c-bus">Choosing Resistors for I2C Bus</h2>
<p>The resistors are chosen for the I2C bus affect its power efficiency and speed. An increase in resistor size will result in better power efficiency but will cause the bus to be slower. This is because the resistor affects the bus&rsquo;s ability to go from a low signal to a high signal. Since we are not constrained by power, we will opt for the minimum resistor value.</p>
<p>To find the minimum resistor that can be used by the bus, we can use this formula:</p>
<p><img src="https://latex.codecogs.com/gif.latex?R_%7Bmin%7D%3D%5Cfrac%7BV_%7BCC%7D-V_%7BOL%7D%7D%7BI_%7BOL%7D%7D" alt="equation"></p>
<p>In our case:</p>
<p><img src="https://latex.codecogs.com/gif.latex?V_%7BCC%7D%3D5V%24%2C%20%24V_%7BOL%7D%3D1.5V%24%2C%20%24I_%7BOL%7D%3D20mA" alt="equation"></p>
<p>This means our lowest resistor value could be:</p>
<p><img src="https://latex.codecogs.com/gif.latex?175%5COmega" alt="equation"></p>
<p>We also calculated the maximum, which we got using a guess for the parasitic capacitance of the bus which we estimated to be 1.889e-11 F. From there we can use the following equation:</p>
<p><img src="https://latex.codecogs.com/gif.latex?R_%7Bmax%7D%3D%5Cfrac%7Bt_%7Br%7D%7D%7B0.8473*C_%7Bb%7D%7D" alt="equation"></p>
<p>We&rsquo;ll assume the bus is operating in standard mode which means the maximum rise time should be 1000 nanoseconds. This gives us:</p>
<p><img src="https://latex.codecogs.com/gif.latex?62478.5347184%5COmega" alt="equation"></p>
<p>Given this information, we&rsquo;d like the bus to be syncing 1mA or less. Based on this, we&rsquo;d like the minimum resistor value to be:</p>
<p><img src="https://latex.codecogs.com/gif.latex?3.5K%5COmega" alt="equation"></p>
<p>For convenience, we&rsquo;ll use:</p>
<p><img src="https://latex.codecogs.com/gif.latex?4.7K%5COmega" alt="equation"></p>
<p>The Arduino can sync a max of 20mA
The Arduino recognizes a low signal on the bus if the voltage is below 1.5V</p>
<p>Sources:
<a href="https://www.emisoftware.com/calculator/wire-pair-capacitance/">https://www.emisoftware.com/calculator/wire-pair-capacitance/</a></p>
<p><a href="https://www.ti.com/lit/an/slva689/slva689.pdf">https://www.ti.com/lit/an/slva689/slva689.pdf</a></p>
<p>To make it easier to connect multiple controller boards to a signal microcontroller (in our case, an Arduino) we made a simple Arduino hat that uses wires to connect the pin on the arduino to the pins of the microcontroller. It also gave us the space to add pull up resistors to the I2C bus.</p>
<p><img src="./images/wire.JPG" alt=""></p>
<h2 id="provide-power-to-all-of-the-components">Provide power to all of the components</h2>
<p>Powering all the components was the biggest concern for the electrical subteam and the first issue we tried to experimentally address. We created a test setup for a single servo motor and measured the current it pulled. We found each motor pulled roughly 0.75A under full load for the sculpture. This means a group of 50 motors would pull roughly 37.5A if they were all moving. As a result we found a cheap 300W power supply on amazon that took power from the wall and output a steady 5V which also happened to be the voltage that all of the electrical components in our project operated at. At 5V, a 300W power supply can supply a max of 60A which is more than 1.5 times the expected maximum current draw of the motors. This gave us the confidence that we would not run into issues with the power supply not being able to provide enough power.</p>

          </div>
        </article>
      
    </main>

    <footer class="site-footer">
  <p class="copyright">© 2021 Hugo Ava Theme</p>
</footer>

    

    
    
    
      <script src="./js/prefixfree.min.aaa4e8e903fe90f6f9da78ee095b81ae53e94812b5d99aefbf2a2c1b61af0b3c.js"></script>

    
  

  </body>
</html>